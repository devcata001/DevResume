/* ==========================================================================
    Print Styles - PDF Export
   ========================================================================== */

@media print {

    /* Hide mobile navigation */
    .mobile-nav {
        display: none !important;
    }

    /* Hide editor panel and show only resume */
    .editor-panel {
        display: none !important;
    }

    /* Reset app container for print */
    .app-container {
        display: block !important;
        padding-top: 0 !important;
        position: static !important;
    }

    /* Remove backdrop overlay */
    .app-container::before {
        display: none !important;
    }

    .preview-panel {
        display: block !important;
        padding: 0 !important;
        background-color: white !important;
        width: 100% !important;
        max-width: 100% !important;
        position: static !important;
        transform: none !important;
        visibility: visible !important;
        overflow: visible !important;
    }

    .resume-preview {
        display: block !important;
        box-shadow: none !important;
        margin: 0 !important;
        width: 100% !important;
        max-width: 100% !important;
        transform: none !important;
        visibility: visible !important;
        opacity: 1 !important;
    }

    /* Ensure all resume content is visible */
    .resume-preview * {
        visibility: visible !important;
        opacity: 1 !important;
    }

    .resume-header,
    .resume-section,
    .resume-item,
    .resume-contact,
    .resume-skills,
    .resume-summary {
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
    }

    /* Page setup - Single page, no breaks */
    @page {
        margin: 8mm;
        size: A4;
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
    }

    .resume-preview.page-letter {
        width: 100% !important;
    }

    /* Reset body for print - Professional Quality */
    body {
        font-size: 10pt;
        line-height: 1.4;
        color: #000000 !important;
        background: white !important;
        overflow: visible !important;
        padding: 0 !important;
        margin: 0 !important;
        position: static !important;
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', 'Arial', sans-serif !important;
    }

    /* Reset all positioning for print */
    * {
        position: static !important;
        transform: none !important;
    }

    /* Keep necessary flex/grid layouts */
    .resume-item-header,
    .resume-contact,
    .resume-skills {
        position: relative !important;
    }

    /* Force single page - prevent ALL page breaks */
    * {
        page-break-before: avoid !important;
        page-break-after: avoid !important;
        page-break-inside: avoid !important;
    }

    .resume-preview {
        page-break-before: avoid !important;
        page-break-after: avoid !important;
        page-break-inside: avoid !important;
    }

    .resume-header,
    .resume-section,
    .resume-section-title,
    .resume-item,
    .resume-item-header {
        page-break-before: avoid !important;
        page-break-after: avoid !important;
        page-break-inside: avoid !important;
    }

    .resume-item-header {
        display: flex !important;
        flex-direction: row !important;
        justify-content: space-between !important;
    }

    .resume-item-meta {
        white-space: nowrap !important;
        text-align: right !important;
        max-width: none !important;
    }

    /* Ensure content doesn't break awkwardly */
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        page-break-after: avoid !important;
        orphans: 3 !important;
        widows: 3 !important;
    }

    ul,
    ol {
        orphans: 3 !important;
        widows: 3 !important;
    }

    /* Aggressive single-page enforcement */
    html,
    body {
        height: auto !important;
        overflow: visible !important;
    }

    .resume-preview {
        height: auto !important;
        min-height: 0 !important;
        max-height: none !important;
    }

    /* Links */
    a {
        color: #000000;
        text-decoration: none;
    }

    a[href^="http"]:after {
        content: "";
    }

    /* Optimize for professional printing */
    * {
        box-shadow: none !important;
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
    }

    /* Template-specific adjustments */
    .resume-preview.template-modern .resume-header {
        background: #0ea5e9 !important;
        /* Keep header background for modern */
        print-color-adjust: exact;
        -webkit-print-color-adjust: exact;
    }

    .resume-preview.template-modern .resume-skill {
        background: #0ea5e9 !important;
        print-color-adjust: exact;
        -webkit-print-color-adjust: exact;
    }

    .resume-preview.template-minimal .resume-skill,
    .resume-preview.template-classic .resume-skill {
        background: transparent !important;
    }

    /* Compact spacing for single page fit */
    .resume-preview.page-a4 {
        padding: 8mm 10mm !important;
        max-width: 100% !important;
    }

    .resume-preview.page-letter {
        padding: 0.3in 0.4in !important;
        max-width: 100% !important;
    }

    /* Compact spacing for all elements */
    .resume-header {
        margin-bottom: 0.8rem !important;
    }

    .resume-section {
        margin-bottom: 0.8rem !important;
    }

    .resume-item {
        margin-bottom: 0.6rem !important;
    }

    .resume-section-title {
        margin-bottom: 0.5rem !important;
        padding-bottom: 0.25rem !important;
    }

    .resume-item-description {
        margin-top: 0.25rem !important;
    }

    .resume-item-description li {
        margin-bottom: 0.15rem !important;
    }

    /* Modern template header margin fix */
    .resume-preview.template-modern.page-a4 .resume-header {
        margin: -15mm -15mm var(--spacing-xl) -15mm !important;
    }

    .resume-preview.template-modern.page-letter .resume-header {
        margin: -0.5in -0.5in var(--spacing-xl) -0.5in !important;
    }

    /* Compact font sizes to fit single page */
    .resume-name {
        color: #000000 !important;
        font-weight: 700 !important;
        font-size: 1.5rem !important;
        margin-bottom: 0.25rem !important;
    }

    .resume-title {
        color: #000000 !important;
        font-weight: 500 !important;
        font-size: 0.9rem !important;
        margin-bottom: 0.5rem !important;
    }

    .resume-contact {
        margin-bottom: 0.5rem !important;
        gap: 0.3rem 0.5rem !important;
    }

    .resume-item-title {
        color: #000000 !important;
        font-weight: 700 !important;
        font-size: 0.85rem !important;
    }

    .resume-item-subtitle {
        color: #2d3748 !important;
        font-weight: 500 !important;
        font-size: 0.8rem !important;
    }

    .resume-item-meta,
    .resume-contact-item {
        color: #2d3748 !important;
        font-weight: 500 !important;
        font-size: 0.75rem !important;
    }

    .resume-item-description {
        color: #1a202c !important;
        font-size: 0.8rem !important;
        line-height: 1.4 !important;
    }

    .resume-summary {
        color: #1a202c !important;
        font-size: 0.8rem !important;
        line-height: 1.45 !important;
        margin-bottom: 0.5rem !important;
    }

    /* Enhanced bullet points for print - ultra compact */
    .resume-item-description ul {
        list-style-type: none !important;
        padding-left: 1rem !important;
        margin-top: 0.2rem !important;
        margin-bottom: 0 !important;
    }

    .resume-item-description li {
        position: relative !important;
        padding-left: 0.5rem !important;
        margin-bottom: 0.15rem !important;
        line-height: 1.4 !important;
    }

    .resume-item-description li::before {
        content: 'â€¢' !important;
        position: absolute !important;
        left: -0.5rem !important;
        color: #000000 !important;
        font-weight: 700 !important;
        font-size: 1em !important;
    }

    /* Border adjustments */
    .resume-section-title {
        border-color: #000000 !important;
        border-width: 1.5px !important;
        font-weight: 700 !important;
        font-size: 0.9rem !important;
    }

    /* Skill tags - compact for single page */
    .resume-skills {
        display: flex !important;
        flex-wrap: wrap !important;
        gap: 0.25rem 0.35rem !important;
        margin-top: 0.3rem !important;
    }

    .resume-skill {
        border: 1px solid #000000 !important;
        background-color: #ffffff !important;
        color: #000000 !important;
        padding: 0.1rem 0.4rem !important;
        font-weight: 500 !important;
        font-size: 0.75rem !important;
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
        display: inline-block !important;
    }
}

/* Print for letter size */
@media print {
    @page {
        size: letter;
    }

    body.page-letter .resume-preview {
        width: 8.5in;
    }
}